{"version":3,"names":[],"mappings":"","sources":["about/my_class/ground.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(ground, superClass);\n\n\t\tfunction ground(roadSize) {\n\t\t\tthis.openDoor = bind(this.openDoor, this);\n\t\t\tthis._updateVertices = bind(this._updateVertices, this);\n\t\t\tthis._addVerticesAnimation = bind(this._addVerticesAnimation, this);\n\t\t\tthis.hide = bind(this.hide, this);\n\t\t\tthis.show = bind(this.show, this);\n\t\t\tthis._setStageObjects = bind(this._setStageObjects, this);\n\t\t\tthis.upAreaSize = bind(this.upAreaSize, this);\n\t\t\tthis.downAreaSize = bind(this.downAreaSize, this);\n\t\t\tthis.minGameAreaSize = bind(this.minGameAreaSize, this);\n\t\t\tthis.gameAreaEndZ = bind(this.gameAreaEndZ, this);\n\t\t\tthis.gameAreaSize = bind(this.gameAreaSize, this);\n\t\t\tthis.totalSize = bind(this.totalSize, this);\n\t\t\tthis.loopGroundZ = bind(this.loopGroundZ, this);\n\t\t\tthis.loopGroundStartZ = bind(this.loopGroundStartZ, this);\n\t\t\tthis.loopStartZ = bind(this.loopStartZ, this);\n\t\t\tthis.loopZ = bind(this.loopZ, this);\n\t\t\tthis._addLoopGround = bind(this._addLoopGround, this);\n\t\t\tthis._loopOffsetScale = bind(this._loopOffsetScale, this);\n\t\t\tthis._addUpArea = bind(this._addUpArea, this);\n\t\t\tthis._addDownArea2 = bind(this._addDownArea2, this);\n\t\t\tthis._addDownArea = bind(this._addDownArea, this);\n\t\t\tthis._addUpLoopArea = bind(this._addUpLoopArea, this);\n\t\t\tthis.dispose = bind(this.dispose, this);\n\t\t\tthis.update = bind(this.update, this);\n\t\t\tthis.start = bind(this.start, this);\n\t\t\tground.__super__.constructor.call(this);\n\t\t\tthis._stageId;\n\t\t\tthis._roadSize = roadSize;\n\t\t\tthis._groundSize = 0;\n\t\t\tthis._groundTotalSize = 0;\n\t\t\tthis._addLoopGroundNum;\n\t\t\tthis._loopZ = 0;\n\t\t\tthis._loopGroundSize = 0;\n\t\t\tthis._loopGroundTotalSize = 0;\n\t\t\tthis._downAreaSize = 0;\n\t\t\tthis._downAreaNum = 1;\n\t\t\tthis._upAreaSize = 0;\n\t\t\tthis._upAreaNum = 0;\n\t\t\tthis._upArea2Num = 1;\n\t\t\tthis._objects = [];\n\t\t\tthis._animateMesh = [];\n\t\t\tthis._kujira = [];\n\t\t\tthis._doors;\n\t\t\tthis._delayCall;\n\t\t}\n\n\t\tground.prototype.start = function() {\n\t\t\tvar animal, flg, fusha, i, kumo, obj, objDepth, offsetScale, orgObj, totalStgDepth;\n\t\t\tground.__super__.start.call(this);\n\t\t\tthis._delayCall = new root.MY_CLASS.delayCall();\n\t\t\tthis._delayCall.start();\n\t\t\tthis._stageId = this._game.stageId();\n\t\t\torgObj = root.MY.gl.data.getStageObj3D(this._stageId, \"stage\");\n\t\t\tthis._addLoopGroundNum = this._conf.LOOP_STAGE_NUM[this._stageId];\n\t\t\ttotalStgDepth = 0;\n\t\t\tflg = true;\n\t\t\ti = 0;\n\t\t\twhile (flg) {\n\t\t\t\tif (this._stageId === -1) {\n\t\t\t\t\tif (i % 2 === 0) {\n\t\t\t\t\t\tobj = orgObjA.clone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj = orgObj.clone();\n\t\t\t\t\t}\n\t\t\t\t\tobjDepth = this.depthFromBBox(obj.children[0].geometry.boundingBox) * this._conf.GROUND_OFFSET.SCALE1;\n\t\t\t\t\tthis._container.add(obj);\n\t\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\t\tobj.position.z = -totalStgDepth - (objDepth * 0.5);\n\t\t\t\t} else {\n\t\t\t\t\tobj = orgObj.clone();\n\t\t\t\t\tobjDepth = this.depthFromBBox(orgObj.children[0].geometry.boundingBox) * this._conf.GROUND_OFFSET.SCALE1;\n\t\t\t\t\tswitch (this._stageId) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\t\t\t\tobj.scale.x = -1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj.scale.x = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\tobj.scale.x = 1;\n\t\t\t\t\t\t\tobj.scale.z = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tobj.scale.z = 1;\n\t\t\t\t\t}\n\t\t\t\t\tthis._container.add(obj);\n\t\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\t\tobj.position.z = -totalStgDepth - (objDepth * 0.5);\n\t\t\t\t\tswitch (this._stageId) {\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\toffsetScale = 1.2;\n\t\t\t\t\t\t\tobj.scale.x *= offsetScale;\n\t\t\t\t\t\t\tobj.scale.y *= offsetScale;\n\t\t\t\t\t\t\tobj.scale.z *= offsetScale;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\toffsetScale = 1.195;\n\t\t\t\t\t\t\tobj.scale.x *= offsetScale;\n\t\t\t\t\t\t\tobj.scale.y *= offsetScale;\n\t\t\t\t\t\t\tobj.scale.z *= offsetScale;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this._stageId !== 5 && this._stageId !== 6) {\n\t\t\t\t\tkumo = root.MY.gl.data.getCmnObj3D(\"cloud\" + String(this._stageId)).clone();\n\t\t\t\t\tthis._container.add(kumo);\n\t\t\t\t\tkumo.position.copy(obj.position);\n\t\t\t\t\tkumo.position.x = this._conf.CLOUD_POS.BASE_X + this._u.range(this._conf.CLOUD_POS.RANEGE_X);\n\t\t\t\t\tkumo.position.y = this._conf.CLOUD_POS.BASE_Y + this._u.range(this._conf.CLOUD_POS.RANEGE_Y);\n\t\t\t\t\tthis._objects.push(kumo);\n\t\t\t\t}\n\t\t\t\tif (this._stageId === 0) {\n\t\t\t\t\tfusha = new root.MY_CLASS.fusha();\n\t\t\t\t\tfusha.start();\n\t\t\t\t\tthis._container.add(fusha.container());\n\t\t\t\t\tfusha.show();\n\t\t\t\t\tfusha.container().position.z = obj.position.z;\n\t\t\t\t\tfusha.container().scale.x = obj.scale.x;\n\t\t\t\t\tthis._objects.push(fusha);\n\t\t\t\t}\n\t\t\t\tif (this._stageId === 4) {\n\t\t\t\t\tanimal = root.MY.gl.data.getCmnObj3D(\"stg4Etc\").clone();\n\t\t\t\t\tthis._container.add(animal);\n\t\t\t\t\tanimal.scale.copy(obj.scale);\n\t\t\t\t\tanimal.position.copy(obj.position);\n\t\t\t\t\tanimal.position.z += 110;\n\t\t\t\t\tanimal.position.y += 0;\n\t\t\t\t\tthis._objects.push(animal);\n\t\t\t\t}\n\t\t\t\ttotalStgDepth += objDepth;\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\tif (totalStgDepth * this._conf.GROUND_SCALE > this._roadSize || (this._stageId === 5 || this._stageId === 6)) {\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tthis._groundTotalSize = totalStgDepth;\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\tthis._groundTotalSize -= 50;\n\t\t\t}\n\t\t\tif (this._stageId === 4) {\n\t\t\t\tthis._addDownArea();\n\t\t\t}\n\t\t\tif (this._stageId === 5) {\n\t\t\t\tthis._addUpArea();\n\t\t\t}\n\t\t\tif (this._stageId === 6) {\n\t\t\t\tthis._addDownArea2();\n\t\t\t}\n\t\t\tthis._addLoopGround();\n\t\t\tthis._container.scale.set(this._conf.GROUND_SCALE, this._conf.GROUND_SCALE, this._conf.GROUND_SCALE);\n\t\t\tthis._setStageObjects();\n\t\t\treturn this.update();\n\t\t};\n\n\t\tground.prototype.update = function() {\n\t\t\tground.__super__.update.call(this);\n\t\t\tif (this._container.visible) {\n\t\t\t\tthis._container.rotation.z = this._camera.rotation.z;\n\t\t\t\tthis._container.position.x = -this._camera.position.x;\n\t\t\t\tthis._container.position.y = -this._camera.position.y;\n\t\t\t\tif (!this._isSmt) {\n\t\t\t\t\treturn this._updateVertices();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t};\n\n\t\tground.prototype.dispose = function() {\n\t\t\tvar i, j, len1, ref, val;\n\t\t\tif (this._objects != null) {\n\t\t\t\tref = this._objects;\n\t\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\t\tval = ref[i];\n\t\t\t\t\tif (val != null) {\n\t\t\t\t\t\tthis._container.remove(val);\n\t\t\t\t\t\tthis._objects[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._objects = null;\n\t\t\t}\n\t\t\treturn ground.__super__.dispose.call(this);\n\t\t};\n\n\t\tground.prototype._addUpLoopArea = function() {\n\t\t\tvar depth, i, num, obj, orgObj, results;\n\t\t\torgObj = root.MY.gl.data.getCmnObj3D(\"stageLoading6\");\n\t\t\tdepth = this.depthFromBBox(orgObj.children[0].geometry.boundingBox);\n\t\t\tdepth *= this._loopOffsetScale();\n\t\t\ti = 0;\n\t\t\tnum = ~~(this._groundTotalSize / depth);\n\t\t\tif (depth * num < this._groundTotalSize) {\n\t\t\t\tnum += 1;\n\t\t\t}\n\t\t\tresults = [];\n\t\t\twhile (i < num) {\n\t\t\t\tobj = orgObj.clone();\n\t\t\t\tthis._container.add(obj);\n\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\tobj.scale.z = -1;\n\t\t\t\t} else {\n\t\t\t\t\tobj.scale.z = 1;\n\t\t\t\t}\n\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\tobj.position.z = -depth * i - depth * 0.5;\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\tresults.push(i++);\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t\tground.prototype._addDownArea = function() {\n\t\t\tvar depth, i, num, obj, orgObj0, orgObj1;\n\t\t\torgObj0 = root.MY.gl.data.getCmnObj3D(\"seaDown\");\n\t\t\torgObj1 = root.MY.gl.data.getCmnObj3D(\"stageLoading5\");\n\t\t\tdepth = this.depthFromBBox(orgObj1.children[0].geometry.boundingBox);\n\t\t\tdepth *= this._loopOffsetScale();\n\t\t\tnum = this._downAreaNum + 1;\n\t\t\ti = 0;\n\t\t\twhile (i < num) {\n\t\t\t\tobj = i === 0 ? orgObj0.clone() : orgObj1.clone();\n\t\t\t\tthis._container.add(obj);\n\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\tobj.scale.x = -1;\n\t\t\t\t} else {\n\t\t\t\t\tobj.scale.x = 1;\n\t\t\t\t}\n\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\tobj.position.z = (-this._groundTotalSize + depth) - depth * i - depth * 0.5;\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn this._downAreaSize = depth * this._downAreaNum;\n\t\t};\n\n\t\tground.prototype._addDownArea2 = function() {\n\t\t\tvar depth, i, num, obj, orgObj;\n\t\t\torgObj = root.MY.gl.data.getCmnObj3D(\"stageLoading6\");\n\t\t\tdepth = this.depthFromBBox(orgObj.children[0].geometry.boundingBox);\n\t\t\tdepth *= this._loopOffsetScale();\n\t\t\ti = 0;\n\t\t\tnum = this._upArea2Num + 2;\n\t\t\twhile (i < num) {\n\t\t\t\tobj = orgObj.clone();\n\t\t\t\tthis._container.add(obj);\n\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\tobj.scale.x = -1;\n\t\t\t\t} else {\n\t\t\t\t\tobj.scale.x = 1;\n\t\t\t\t}\n\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\tobj.position.z = (-this._groundTotalSize + depth * 2) - depth * i - depth * 0.5;\n\t\t\t\tswitch (this._stageId) {\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tobj.position.y += this._conf.STG7_LOOP_OFFSET.Y;\n\t\t\t\t}\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn this._downAreaSize = depth * this._upArea2Num;\n\t\t};\n\n\t\tground.prototype._addUpArea = function() {\n\t\t\tvar depth, i, num, obj, orgObj;\n\t\t\torgObj = root.MY.gl.data.getCmnObj3D(\"stageLoading6\");\n\t\t\tdepth = this.depthFromBBox(orgObj.children[0].geometry.boundingBox);\n\t\t\tdepth *= this._loopOffsetScale();\n\t\t\ti = 0;\n\t\t\tnum = this._upAreaNum;\n\t\t\twhile (i < num) {\n\t\t\t\tobj = orgObj.clone();\n\t\t\t\tthis._container.add(obj);\n\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\tobj.scale.z = -1;\n\t\t\t\t} else {\n\t\t\t\t\tobj.scale.z = 1;\n\t\t\t\t}\n\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\tobj.position.z = -this._groundTotalSize - depth * i - depth * 0.5;\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn this._upAreaSize = depth * num;\n\t\t};\n\n\t\tground.prototype._loopOffsetScale = function() {\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\treturn 0.9;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this._conf.GROUND_OFFSET.SCALE2;\n\t\t\t}\n\t\t};\n\n\t\tground.prototype._addLoopGround = function() {\n\t\t\tvar i, loopNum, loopStartZ, obj, orgObj;\n\t\t\torgObj = root.MY.gl.data.getCmnObj3D(\"stageLoading\" + String(this._game.nextStageId()));\n\t\t\tthis._loopGroundSize = this.depthFromBBox(orgObj.children[0].geometry.boundingBox);\n\t\t\tthis._loopGroundSize *= this._loopOffsetScale();\n\t\t\tloopNum = 2;\n\t\t\tloopStartZ = -this._groundTotalSize;\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\tloopStartZ -= this._downAreaSize;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tloopStartZ -= this._upAreaSize;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tloopStartZ -= this._downAreaSize;\n\t\t\t}\n\t\t\ti = 0;\n\t\t\twhile (i < this._addLoopGroundNum) {\n\t\t\t\tobj = orgObj.clone();\n\t\t\t\tthis._container.add(obj);\n\t\t\t\tswitch (this._stageId) {\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\t\t\tobj.scale.z = -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.scale.z = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (i % 2 !== 0) {\n\t\t\t\t\t\t\tobj.scale.x = -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.scale.x = 1;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tobj.position.y = this._conf.GROUND_OFFSET.Y;\n\t\t\t\tobj.position.z = loopStartZ - this._loopGroundSize * i - this._loopGroundSize * 0.5;\n\t\t\t\tswitch (this._stageId) {\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tobj.position.y += this._conf.STG7_LOOP_OFFSET.Y;\n\t\t\t\t}\n\t\t\t\tthis._objects.push(obj);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tthis._loopGroundTotalSize = this._loopGroundSize * this._addLoopGroundNum;\n\t\t\treturn this._loopZ = this._loopGroundSize * loopNum;\n\t\t};\n\n\t\tground.prototype.loopZ = function() {\n\t\t\treturn this._loopZ * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype.loopStartZ = function() {\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\treturn -(this._groundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 5:\n\t\t\t\t\treturn -(this._groundTotalSize + this._upAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 6:\n\t\t\t\t\treturn -(this._groundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn -(this._groundTotalSize + this._loopGroundSize * 2) * this._conf.GROUND_SCALE;\n\t\t\t}\n\t\t};\n\n\t\tground.prototype.loopGroundStartZ = function() {\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\treturn -(this._groundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 5:\n\t\t\t\t\treturn -(this._groundTotalSize + this._upAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 6:\n\t\t\t\t\treturn -(this._groundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn -this._groundTotalSize * this._conf.GROUND_SCALE;\n\t\t\t}\n\t\t};\n\n\t\tground.prototype.loopGroundZ = function() {\n\t\t\treturn this._loopGroundTotalSize * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype.totalSize = function() {\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 4:\n\t\t\t\t\treturn (this._groundTotalSize + this._loopGroundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 5:\n\t\t\t\t\treturn (this._groundTotalSize + this._loopGroundTotalSize + this._upAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tcase 6:\n\t\t\t\t\treturn (this._groundTotalSize + this._loopGroundTotalSize + this._downAreaSize) * this._conf.GROUND_SCALE;\n\t\t\t\tdefault:\n\t\t\t\t\treturn (this._groundTotalSize + this._loopGroundTotalSize) * this._conf.GROUND_SCALE;\n\t\t\t}\n\t\t};\n\n\t\tground.prototype.gameAreaSize = function() {\n\t\t\treturn this._groundTotalSize * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype.gameAreaEndZ = function() {\n\t\t\treturn -this._groundTotalSize * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype.minGameAreaSize = function() {\n\t\t\treturn this._roadSize;\n\t\t};\n\n\t\tground.prototype.downAreaSize = function() {\n\t\t\treturn this._downAreaSize * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype.upAreaSize = function() {\n\t\t\treturn this._upAreaSize * this._conf.GROUND_SCALE;\n\t\t};\n\n\t\tground.prototype._setStageObjects = function() {\n\t\t\tvar i, kujira, num, results;\n\t\t\tswitch (this._stageId) {\n\t\t\t\tcase 5:\n\t\t\t\t\ti = 0;\n\t\t\t\t\tnum = 5;\n\t\t\t\t\tresults = [];\n\t\t\t\t\twhile (i < num) {\n\t\t\t\t\t\tkujira = new root.MY_CLASS.kujira(i);\n\t\t\t\t\t\tkujira.start();\n\t\t\t\t\t\tthis._container.add(kujira.container());\n\t\t\t\t\t\tthis._kujira.push(kujira);\n\t\t\t\t\t\tkujira.container().position.copy(this._objects[0].position);\n\t\t\t\t\t\tresults.push(i++);\n\t\t\t\t\t}\n\t\t\t\t\treturn results;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis._doors = new root.MY_CLASS.doors();\n\t\t\t\t\tthis._doors.start();\n\t\t\t\t\tthis._container.add(this._doors.container());\n\t\t\t\t\tthis._doors.container().position.copy(this._objects[0].position);\n\t\t\t\t\treturn this._doors.container().position.z -= 980;\n\t\t\t}\n\t\t};\n\n\t\tground.prototype.show = function() {\n\t\t\tvar i, j, len1, ref, val;\n\t\t\tground.__super__.show.call(this);\n\t\t\tref = this._kujira;\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tval.show();\n\t\t\t}\n\t\t\tif (this._doors != null) {\n\t\t\t\treturn this._doors.show();\n\t\t\t}\n\t\t};\n\n\t\tground.prototype.hide = function() {\n\t\t\tvar i, j, len1, ref, val;\n\t\t\tground.__super__.hide.call(this);\n\t\t\tref = this._kujira;\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tval.hide();\n\t\t\t}\n\t\t\tif (this._doors != null) {\n\t\t\t\treturn this._doors.hide();\n\t\t\t}\n\t\t};\n\n\t\tground.prototype._addVerticesAnimation = function(obj) {};\n\n\t\tground.prototype._updateVertices = function() {\n\t\t\tvar ang, bbox, d, dx, dz, i, j, len1, num, pos, ref, results, val, x, y, z;\n\t\t\tang = Date.now() * 0.05;\n\t\t\tref = this._animateMesh;\n\t\t\tresults = [];\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tbbox = val.geometry.boundingBox;\n\t\t\t\tpos = val.geometry.attributes.position.array;\n\t\t\t\ti = 0;\n\t\t\t\tnum = pos.length;\n\t\t\t\twhile (i < num) {\n\t\t\t\t\tx = pos[i];\n\t\t\t\t\ty = pos[i + 1];\n\t\t\t\t\tz = pos[i + 2];\n\t\t\t\t\tif (y != null) {\n\t\t\t\t\t\tdx = bbox.min.x - x;\n\t\t\t\t\t\tdz = bbox.min.z - z;\n\t\t\t\t\t\td = Math.sqrt(dx * dx + dz * dz) / 0.45;\n\t\t\t\t\t\tpos[i + 1] += Math.sin(this._u.radian(ang + d)) * 0.045;\n\t\t\t\t\t}\n\t\t\t\t\ti += 3;\n\t\t\t\t}\n\t\t\t\tval.geometry.attributes.position.needsUpdate = true;\n\t\t\t\tval.geometry.computeFaceNormals();\n\t\t\t\tresults.push(val.geometry.computeVertexNormals());\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t\tground.prototype.openDoor = function() {\n\t\t\tif (this._doors != null) {\n\t\t\t\treturn this._doors.open();\n\t\t\t}\n\t\t};\n\n\t\treturn ground;\n\n\t}"],"file":"about/my_class/ground.js","sourceRoot":"/source/"}