{"version":3,"names":[],"mappings":"","sources":["about/my_class/music_title_view.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(musicTitleView, superClass);\n\n\t\tfunction musicTitleView() {\n\t\t\tthis.hideTitle = bind(this.hideTitle, this);\n\t\t\tthis.showTitle = bind(this.showTitle, this);\n\t\t\tthis._setParts = bind(this._setParts, this);\n\t\t\tthis.resize = bind(this.resize, this);\n\t\t\tthis.dispose2 = bind(this.dispose2, this);\n\t\t\tthis.update = bind(this.update, this);\n\t\t\tthis.addStage = bind(this.addStage, this);\n\t\t\tmusicTitleView.__super__.constructor.call(this, {\n\t\t\t\tresize: true,\n\t\t\t\tupdate: true\n\t\t\t});\n\t\t\tthis._container;\n\t\t\tthis._titleImg = [];\n\t\t\tthis._anm;\n\t\t\tthis._conf = root.MY.app.conf;\n\t\t}\n\n\t\tmusicTitleView.prototype.addStage = function() {\n\t\t\tvar i, img;\n\t\t\tthis._container = new root._LIBS.display();\n\t\t\tthis.addChild(this._container);\n\t\t\ti = 0;\n\t\t\twhile (i < this._conf.STAGE_NUM) {\n\t\t\t\timg = new root._LIBS.displayImage(root.MY.app.conf.PATH_IMG.GAMEUI + \"musicTitle/\" + String(i) + \".png\", root.MY.app.conf.IMG_RETINA);\n\t\t\t\timg.onLoad = this._setParts;\n\t\t\t\tthis._container.addChild(img);\n\t\t\t\timg.visible(false);\n\t\t\t\tthis._titleImg.push(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn this._anm = new root._LIBS.animation();\n\t\t};\n\n\t\tmusicTitleView.prototype.update = function() {\n\t\t\tif (this._anm.isStart() && !this._anm.isCompleted()) {\n\t\t\t\tthis._container.translate(this._anm.get(\"x\"), 0);\n\t\t\t\tthis._container.setTransform();\n\t\t\t\treturn this._container.alpha(this._anm.get(\"opacity\"));\n\t\t\t}\n\t\t};\n\n\t\tmusicTitleView.prototype.dispose2 = function() {};\n\n\t\tmusicTitleView.prototype.resize = function(w, h) {\n\t\t\tif (this._isSmt) {\n\t\t\t\treturn this._container.xy(20 / 2, h - 20 / 2);\n\t\t\t} else {\n\t\t\t\treturn this._container.xy(20, h - 20);\n\t\t\t}\n\t\t};\n\n\t\tmusicTitleView.prototype._setParts = function(w, h) {\n\t\t\tvar i, j, len1, ref, results, val;\n\t\t\tref = this._titleImg;\n\t\t\tresults = [];\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tif (val != null) {\n\t\t\t\t\tresults.push(val.xy(0, -val.height()));\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(void 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t\tmusicTitleView.prototype.showTitle = function(stageId) {\n\t\t\tvar i, j, len1, ref, val;\n\t\t\tref = this._titleImg;\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tif (i === stageId) {\n\t\t\t\t\tval.visible(true);\n\t\t\t\t} else {\n\t\t\t\t\tval.visible(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._anm.set({\n\t\t\t\tx: {\n\t\t\t\t\tfrom: 30,\n\t\t\t\t\tto: 0\n\t\t\t\t},\n\t\t\t\topacity: {\n\t\t\t\t\tfrom: 0,\n\t\t\t\t\tto: 1\n\t\t\t\t},\n\t\t\t\tframe: 200,\n\t\t\t\tdelay: 20,\n\t\t\t\tease: \"easeInOutExpo\"\n\t\t\t});\n\t\t\tthis._anm.start();\n\t\t\tthis._container.alpha(0);\n\t\t\treturn this.update();\n\t\t};\n\n\t\tmusicTitleView.prototype.hideTitle = function() {\n\t\t\tthis._anm.set({\n\t\t\t\tx: {\n\t\t\t\t\tfrom: 0,\n\t\t\t\t\tto: -30\n\t\t\t\t},\n\t\t\t\topacity: {\n\t\t\t\t\tfrom: 1,\n\t\t\t\t\tto: 0\n\t\t\t\t},\n\t\t\t\tframe: 200,\n\t\t\t\tdelay: 120,\n\t\t\t\tease: \"easeInOutExpo\"\n\t\t\t});\n\t\t\tthis._anm.start();\n\t\t\treturn this.update();\n\t\t};\n\n\t\treturn musicTitleView;\n\n\t}"],"file":"about/my_class/music_title_view.js","sourceRoot":"/source/"}