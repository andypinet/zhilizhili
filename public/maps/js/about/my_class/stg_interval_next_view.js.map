{"version":3,"names":[],"mappings":"","sources":["about/my_class/stg_interval_next_view.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(stgIntervalNextView, superClass);\n\n\t\tfunction stgIntervalNextView(option) {\n\t\t\tthis._setHit = bind(this._setHit, this);\n\t\t\tthis._setDotAnimation = bind(this._setDotAnimation, this);\n\t\t\tthis.hide = bind(this.hide, this);\n\t\t\tthis.show = bind(this.show, this);\n\t\t\tthis._setParts = bind(this._setParts, this);\n\t\t\tthis._setDot = bind(this._setDot, this);\n\t\t\tthis.dispose2 = bind(this.dispose2, this);\n\t\t\tthis.update = bind(this.update, this);\n\t\t\tthis.addStage = bind(this.addStage, this);\n\t\t\tstgIntervalNextView.__super__.constructor.call(this, {\n\t\t\t\tbgColor: \"#920783\"\n\t\t\t});\n\t\t\tthis._str0;\n\t\t\tthis._str1;\n\t\t\tthis._dotContainer;\n\t\t\tthis._dot = [];\n\t\t}\n\n\t\tstgIntervalNextView.prototype.addStage = function() {\n\t\t\tstgIntervalNextView.__super__.addStage.call(this);\n\t\t\tthis._str0 = new root._LIBS.displayImage(root.MY.app.conf.PATH_IMG.CLEAR + \"txt2.png\", root.MY.app.conf.IMG_RETINA);\n\t\t\tthis._str0.onLoad = this._setParts;\n\t\t\tthis.addChild(this._str0);\n\t\t\tthis._setDot();\n\t\t\treturn this._setParts();\n\t\t};\n\n\t\tstgIntervalNextView.prototype.update = function() {\n\t\t\treturn stgIntervalNextView.__super__.update.call(this);\n\t\t};\n\n\t\tstgIntervalNextView.prototype.dispose2 = function() {};\n\n\t\tstgIntervalNextView.prototype._setDot = function() {\n\t\t\tvar dot, i, margin, num;\n\t\t\tthis._dotContainer = new root._LIBS.display();\n\t\t\tthis.addChild(this._dotContainer);\n\t\t\ti = 0;\n\t\t\tnum = 3;\n\t\t\tmargin = [10, 5][this._device];\n\t\t\twhile (i < num) {\n\t\t\t\tdot = new root.MY_CLASS.dot2d();\n\t\t\t\tthis._dotContainer.addChild(dot);\n\t\t\t\tdot.x((dot.width() + margin) * i);\n\t\t\t\tthis._dot.push(dot);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\treturn this._dotContainer.size(this._dot[num - 1].right(), this._dot[num - 1].height());\n\t\t};\n\n\t\tstgIntervalNextView.prototype._setParts = function(w, h) {\n\t\t\tif (this._str0 != null) {\n\t\t\t\tif (this._str1 != null) {\n\t\t\t\t\tthis._str0.xy(~~(this._bg.width() * 0.5 - this._str0.width() * 0.5), [40, 20][this._device]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._str0.xy(~~(this._bg.width() * 0.5 - this._str0.width() * 0.5), [50, 25][this._device]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._str1 != null) {\n\t\t\t\tthis._str1.xy(~~(this._bg.width() * 0.5 - this._str1.width() * 0.5), [172, 172 / 2][this._device]);\n\t\t\t}\n\t\t\tif (this._dotContainer != null) {\n\t\t\t\tif (this._str1 != null) {\n\t\t\t\t\treturn this._dotContainer.xy(~~(this._bg.width() * 0.5 - this._dotContainer.width() * 0.5), [236, 236 / 2][this._device]);\n\t\t\t\t} else {\n\t\t\t\t\treturn this._dotContainer.xy(~~(this._bg.width() * 0.5 - this._dotContainer.width() * 0.5), [226, 226 / 2][this._device]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tstgIntervalNextView.prototype.show = function() {\n\t\t\tstgIntervalNextView.__super__.show.call(this);\n\t\t\tthis._setDotAnimation(true);\n\t\t\tthis._setHit();\n\t\t\treturn this._setParts();\n\t\t};\n\n\t\tstgIntervalNextView.prototype.hide = function() {\n\t\t\tstgIntervalNextView.__super__.hide.call(this);\n\t\t\treturn this._setDotAnimation(false);\n\t\t};\n\n\t\tstgIntervalNextView.prototype._setDotAnimation = function(flg) {\n\t\t\tvar i, j, len1, ref, results, val;\n\t\t\tref = this._dot;\n\t\t\tresults = [];\n\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\tval = ref[i];\n\t\t\t\tif (flg) {\n\t\t\t\t\tresults.push(val.start(i * 40));\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(val.stop());\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t\tstgIntervalNextView.prototype._setHit = function() {\n\t\t\tvar hintKey;\n\t\t\tif (this._str1 != null) {\n\t\t\t\tthis._str1.dispose();\n\t\t\t\tthis._str1 = null;\n\t\t\t}\n\t\t\thintKey = root.MY.gl.game.stageId();\n\t\t\tthis._str1 = new root._LIBS.displayImage(root.MY.app.conf.PATH_IMG.CLEAR + \"hint/hint\" + String(hintKey) + \".png\", root.MY.app.conf.IMG_RETINA);\n\t\t\tthis._str1.onLoad = this._setParts;\n\t\t\treturn this.addChild(this._str1);\n\t\t};\n\n\t\treturn stgIntervalNextView;\n\n\t}"],"file":"about/my_class/stg_interval_next_view.js","sourceRoot":"/source/"}