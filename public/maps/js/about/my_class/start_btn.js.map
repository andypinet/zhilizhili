{"version":3,"names":[],"mappings":"","sources":["about/my_class/start_btn.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(startBtn, superClass);\n\n\t\tfunction startBtn(imgName, isRetine) {\n\t\t\tthis.stopEffect = bind(this.stopEffect, this);\n\t\t\tthis._eOut = bind(this._eOut, this);\n\t\t\tthis._eOver = bind(this._eOver, this);\n\t\t\tthis._eClick = bind(this._eClick, this);\n\t\t\tthis._setEffect = bind(this._setEffect, this);\n\t\t\tthis._updateEffect = bind(this._updateEffect, this);\n\t\t\tthis.update = bind(this.update, this);\n\t\t\tthis.dispose2 = bind(this.dispose2, this);\n\t\t\tthis.addStage = bind(this.addStage, this);\n\t\t\tstartBtn.__super__.constructor.call(this, {\n\t\t\t\tupdate: true\n\t\t\t});\n\t\t\tthis._imgName = imgName;\n\t\t\tthis._isRetina = isRetine;\n\t\t\tthis._btnImg;\n\t\t\tthis._effect;\n\t\t\tthis._toColor;\n\t\t\tthis._fromColor;\n\t\t\tthis._tgColor = [];\n\t\t\tthis._isEffectUpdate = true;\n\t\t\tthis._isOver = false;\n\t\t\tthis.onClick;\n\t\t\tthis.onLoad;\n\t\t}\n\n\t\tstartBtn.prototype.addStage = function() {\n\t\t\tif (!Modernizr.cssgradients) {\n\t\t\t\tthis._imgName = this._imgName.replace(\".png\", \"_nog.png\");\n\t\t\t}\n\t\t\tthis._btnImg = new root.MY_CLASS.imgBtn2d(this._imgName, this._isRetina, {\n\t\t\t\topacity: 1\n\t\t\t});\n\t\t\tthis._btnImg.onLoad = this._setEffect;\n\t\t\tthis._btnImg.onClick = this._eClick;\n\t\t\tthis._btnImg.onOver = this._eOver;\n\t\t\tthis._btnImg.onOut = this._eOut;\n\t\t\treturn this.addChild(this._btnImg);\n\t\t};\n\n\t\tstartBtn.prototype.dispose2 = function() {\n\t\t\tif (this._btnImg != null) {\n\t\t\t\tthis._btnImg.dispose();\n\t\t\t\tthis._btnImg = null;\n\t\t\t}\n\t\t\tif (this._effect != null) {\n\t\t\t\tthis._effect.dispose();\n\t\t\t\tthis._effect = null;\n\t\t\t}\n\t\t\tthis._toColor = null;\n\t\t\tthis._fromColor = null;\n\t\t\tthis._tgColor = null;\n\t\t\tthis.onClick = null;\n\t\t\treturn this.onLoad = null;\n\t\t};\n\n\t\tstartBtn.prototype.update = function() {\n\t\t\treturn this._updateEffect();\n\t\t};\n\n\t\tstartBtn.prototype._updateEffect = function() {\n\t\t\tvar ease, key0, key1, p, t0, t1;\n\t\t\tif ((this._effect != null) && this._isEffectUpdate) {\n\t\t\t\tp = 0.002;\n\t\t\t\tkey0 = ~~(Date.now() * p % this._tgColor.length);\n\t\t\t\tkey1 = key0 + 1;\n\t\t\t\tif (key1 >= this._tgColor.length) {\n\t\t\t\t\tkey1 = 0;\n\t\t\t\t}\n\t\t\t\tt0 = this._tgColor[key0];\n\t\t\t\tt1 = this._tgColor[key1];\n\t\t\t\tease = 0.04;\n\t\t\t\tthis._toColor.r += (t0.r - this._toColor.r) * ease;\n\t\t\t\tthis._toColor.g += (t0.g - this._toColor.g) * ease;\n\t\t\t\tthis._toColor.b += (t0.b - this._toColor.b) * ease;\n\t\t\t\tthis._fromColor.r += (t1.r - this._fromColor.r) * ease;\n\t\t\t\tthis._fromColor.g += (t1.g - this._fromColor.g) * ease;\n\t\t\t\tthis._fromColor.b += (t1.b - this._fromColor.b) * ease;\n\t\t\t\treturn this._effect.elm().css({\n\t\t\t\t\t// background: \"-moz-linear-gradient(left top, #\" + this._toColor.getHexString() + \", #\" + this._fromColor.getHexString() + \")\",\n\t\t\t\t\t// background: \"-webkit-gradient(linear, left top, right bottom, from(#\" + this._toColor.getHexString() + \"), to(#\" + this._fromColor.getHexString() + \"))\"\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tstartBtn.prototype._setEffect = function() {\n\t\t\tvar c, i, j, len1, ref, val;\n\t\t\tthis.size(this._btnImg.width(), this._btnImg.height());\n\t\t\tif (Modernizr.cssgradients && !this._isSmt) {\n\t\t\t\tthis._effect = new root._LIBS.display();\n\t\t\t\tthis.unshiftChild(this._effect);\n\t\t\t\tthis._effect.size(160, 40);\n\t\t\t\tthis._effect.xy(~~(this.width() * 0.5 - this._effect.width() * 0.5), ~~(this.height() * 0.5 - this._effect.height() * 0.5));\n\t\t\t\tref = root.MY.app.conf.START_BTN_COLOR;\n\t\t\t\tfor (i = j = 0, len1 = ref.length; j < len1; i = ++j) {\n\t\t\t\t\tval = ref[i];\n\t\t\t\t\tc = new THREE.Color(val);\n\t\t\t\t\tthis._tgColor.push(c);\n\t\t\t\t}\n\t\t\t\tthis._toColor = this._tgColor[0].clone();\n\t\t\t\tthis._fromColor = this._tgColor[1].clone();\n\t\t\t}\n\t\t\tif (this.onLoad != null) {\n\t\t\t\treturn this.onLoad();\n\t\t\t}\n\t\t};\n\n\t\tstartBtn.prototype._eClick = function() {\n\t\t\tif (this.onClick != null) {\n\t\t\t\treturn this.onClick();\n\t\t\t}\n\t\t};\n\n\t\tstartBtn.prototype._eOver = function() {};\n\n\t\tstartBtn.prototype._eOut = function() {};\n\n\t\tstartBtn.prototype.stopEffect = function() {\n\t\t\treturn this._isEffectUpdate = false;\n\t\t};\n\n\t\treturn startBtn;\n\n\t}"],"file":"about/my_class/start_btn.js","sourceRoot":"/source/"}