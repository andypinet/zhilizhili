{"version":3,"names":[],"mappings":"","sources":["about/my_class/top_ui_view.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(topUiView, superClass);\n\n\t\tfunction topUiView(elm) {\n\t\t\tthis._eClickSystem = bind(this._eClickSystem, this);\n\t\t\tthis._eClickHelp = bind(this._eClickHelp, this);\n\t\t\tthis._eClickStart = bind(this._eClickStart, this);\n\t\t\tthis.hide = bind(this.hide, this);\n\t\t\tthis.show = bind(this.show, this);\n\t\t\tthis._setParts = bind(this._setParts, this);\n\t\t\tthis.update = bind(this.update, this);\n\t\t\tthis.resize = bind(this.resize, this);\n\t\t\tthis.dispose2 = bind(this.dispose2, this);\n\t\t\tthis._getImgName = bind(this._getImgName, this);\n\t\t\tthis.addStage = bind(this.addStage, this);\n\t\t\ttopUiView.__super__.constructor.call(this, elm, {\n\t\t\t\tresize: true,\n\t\t\t\tupdate: true\n\t\t\t});\n\t\t\tthis._title;\n\t\t\tthis._start;\n\t\t\tthis._help;\n\t\t\tthis._system;\n\t\t\tthis._andAtn;\n\t\t\tthis._anm = {};\n\t\t\tthis._conf = root.MY.app.conf;\n\t\t\tthis._isShowAnimation = false;\n\t\t\tthis._isShowed = false;\n\t\t\tthis.onClickStart;\n\t\t}\n\n\t\ttopUiView.prototype.addStage = function() {\n\t\t\tif (this._isSmt) {\n\t\t\t\tthis.size(560 / 2, 390 / 2);\n\t\t\t} else {\n\t\t\t\tthis.size(638, 394);\n\t\t\t}\n\t\t\tthis.set3d(this.width() * 0.5, this.height() * 0.5);\n\t\t\t// if (this._isSmt) {\n\t\t\t// \tthis._title = new root._LIBS.displayImage(this._getImgName(\"title\"), root.MY.app.conf.IMG_RETINA);\n\t\t\t// } else {\n\t\t\t// \tthis._title = new root.MY_CLASS.topTitleView();\n\t\t\t// }\n\t\t\t// this._title.onLoad = this._setParts;\n\t\t\t// this.addChild(this._title);\n\t\t\t// this._start = new root.MY_CLASS.startBtn(this._getImgName(\"start\"), root.MY.app.conf.IMG_RETINA);\n\t\t\t// this._start.onLoad = this._setParts;\n\t\t\t// this._start.onClick = this._eClickStart;\n\t\t\t// this.addChild(this._start);\n\t\t\t// this._help = new root.MY_CLASS.imgBtn2d(this._getImgName(\"help\"), root.MY.app.conf.IMG_RETINA, {\n\t\t\t// \tonImg: true\n\t\t\t// });\n\t\t\t// this._help.onLoad = this._setParts;\n\t\t\t// this._help.onClick = this._eClickHelp;\n\t\t\t// this.addChild(this._help);\n\t\t\tif (this._isSmt) {\n\t\t\t\tthis._system = new root.MY_CLASS.imgBtn2d(this._getImgName(\"system\"), root.MY.app.conf.IMG_RETINA);\n\t\t\t\tthis._system.onLoad = this._setParts;\n\t\t\t\tthis._system.onClick = this._eClickSystem;\n\t\t\t\tthis.addChild(this._system);\n\t\t\t}\n\t\t\tif (root.MY.myfw.conf.IS_ADR) {\n\t\t\t\tthis._andAtn = new root._LIBS.displayImage(this._getImgName(\"atn\"), root.MY.app.conf.IMG_RETINA);\n\t\t\t\tthis._andAtn.onLoad = this._setParts;\n\t\t\t\tthis.addChild(this._andAtn);\n\t\t\t}\n\t\t\tthis._anm.show = new root._LIBS.animation();\n\t\t\treturn this.visible(false);\n\t\t};\n\n\t\ttopUiView.prototype._getImgName = function(name) {\n\t\t\treturn root.MY.app.conf.PATH_IMG.TOP + name + String(this._device) + \".png\";\n\t\t};\n\n\t\ttopUiView.prototype.dispose2 = function() {\n\t\t\tif (this._google != null) {\n\t\t\t\tthis._google.dispose();\n\t\t\t\tthis._google = null;\n\t\t\t}\n\t\t\t// if (this._title != null) {\n\t\t\t// \tthis._title.dispose();\n\t\t\t// \tthis._title = null;\n\t\t\t// }\n\t\t\t// if (this._start != null) {\n\t\t\t// \tthis._start.dispose();\n\t\t\t// \tthis._start = null;\n\t\t\t// }\n\t\t\t// if (this._help != null) {\n\t\t\t// \tthis._help.dispose();\n\t\t\t// \tthis._help = null;\n\t\t\t// }\n\t\t\tif (this._system != null) {\n\t\t\t\tthis._system.dispose();\n\t\t\t\tthis._system = null;\n\t\t\t}\n\t\t\tif ((this._anm != null) && (this._anm.show != null)) {\n\t\t\t\tthis._anm.show.dispose();\n\t\t\t\tthis._anm.show = null;\n\t\t\t\tthis._anm = null;\n\t\t\t}\n\t\t\tthis._conf = null;\n\t\t\treturn this.onClickStart = null;\n\t\t};\n\n\t\ttopUiView.prototype.resize = function(w, h) {\n\t\t\tthis.xy(~~(w * 0.5 - this.width() * 0.5), ~~(h * 0.5 - this.height() * 0.5));\n\t\t\tif (this._isSmt) {\n\t\t\t\tthis.y(this.y() - 30);\n\t\t\t}\n\t\t\tif (this._andAtn != null) {\n\t\t\t\treturn this.y(this.y() - 20);\n\t\t\t}\n\t\t};\n\n\t\ttopUiView.prototype.update = function() {\n\t\t\tvar s;\n\t\t\tif (this._isShowAnimation && !this._anm.show.isCompleted()) {\n\t\t\t\tif (this._anm.show.isStart()) {\n\t\t\t\t\tthis.visible(true);\n\t\t\t\t}\n\t\t\t\tif (this._isSmt) {\n\t\t\t\t\ts = this._anm.show.get(\"scale\");\n\t\t\t\t\tthis.scale(s, s);\n\t\t\t\t\tthis.setTransform();\n\t\t\t\t\tthis.alpha(this._anm.show.get(\"opacity\"));\n\t\t\t\t} else {\n\t\t\t\t\ts = this._anm.show.get(\"scale\");\n\t\t\t\t\tthis.scale(s, s);\n\t\t\t\t\tthis.setTransform();\n\t\t\t\t\tthis.alpha(this._anm.show.get(\"opacity\"));\n\t\t\t\t}\n\t\t\t\tif (this._anm.show.isCompleted()) {\n\t\t\t\t\treturn this._isShowed = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\ttopUiView.prototype._setParts = function(w, h) {\n\t\t\t// if (this._title != null) {\n\t\t\t// \tthis._title.xy(~~(this.width() * 0.5 - this._title.width() * 0.5), 0);\n\t\t\t// }\n\t\t\t// if (this._start != null) {\n\t\t\t// \tthis._start.xy(~~(this.width() * 0.5 - this._start.width() * 0.5), [255, 208 / 2][this._device]);\n\t\t\t// }\n\t\t\t// if (this._help != null) {\n\t\t\t// \tif (this._isSmt) {\n\t\t\t// \t\tthis._help.xy(0, 318 / 2);\n\t\t\t// \t} else {\n\t\t\t// \t\tthis._help.xy(~~(this.width() * 0.5 - this._help.width() * 0.5), 350);\n\t\t\t// \t}\n\t\t\t// }\n\t\t\tif (this._system != null) {\n\t\t\t\tthis._system.xy(286 / 2, 318 / 2);\n\t\t\t}\n\t\t\tif (this._andAtn != null) {\n\t\t\t\treturn this._andAtn.xy(~~(this.width() * 0.5 - this._andAtn.width() * 0.5), 406 / 2);\n\t\t\t}\n\t\t};\n\n\t\ttopUiView.prototype.show = function(isAnimate, d) {\n\t\t\tvar d2;\n\t\t\tif (this._isShowAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._isShowAnimation = true;\n\t\t\tthis.visible(true);\n\t\t\tif (this._isSmt) {\n\t\t\t\tthis._anm.show.set({\n\t\t\t\t\tscale: {\n\t\t\t\t\t\tfrom: 0.9,\n\t\t\t\t\t\tto: 1\n\t\t\t\t\t},\n\t\t\t\t\topacity: {\n\t\t\t\t\t\tfrom: 0,\n\t\t\t\t\t\tto: 1\n\t\t\t\t\t},\n\t\t\t\t\tframe: 60,\n\t\t\t\t\tdelay: d\n\t\t\t\t});\n\t\t\t\tthis._anm.show.start();\n\t\t\t\tthis.visible(false);\n\t\t\t} else {\n\t\t\t\tthis._anm.show.set({\n\t\t\t\t\tscale: {\n\t\t\t\t\t\tfrom: 0.9,\n\t\t\t\t\t\tto: 1\n\t\t\t\t\t},\n\t\t\t\t\topacity: {\n\t\t\t\t\t\tfrom: 0,\n\t\t\t\t\t\tto: 1\n\t\t\t\t\t},\n\t\t\t\t\tframe: 60,\n\t\t\t\t\tdelay: d\n\t\t\t\t});\n\t\t\t\tthis._anm.show.start();\n\t\t\t}\n\t\t\troot.MY.gl.bg.show(this._conf.BG_OPACITY[0], d + 150);\n\t\t\td2 = d + [30, 30][this._device];\n\t\t\troot.MY.gl.footer.show(true, d2);\n\t\t\troot.MY.gl.record.show(true, d2);\n\t\t\t// if (!this._isSmt) {\n\t\t\t// \tthis._title.show(d);\n\t\t\t// }\n\t\t\treturn this.update();\n\t\t};\n\n\t\ttopUiView.prototype.hide = function() {\n\t\t\tthis._isShowAnimation = false;\n\t\t\tthis.visible(false);\n\t\t\t// this._start.stopEffect();\n\t\t\troot.MY.gl.bg.hide();\n\t\t\treturn root.MY.gl.footer.hide();\n\t\t};\n\n\t\ttopUiView.prototype._eClickStart = function() {\n\t\t\tif (!this._isShowed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.onClickStart != null) {\n\t\t\t\treturn this.onClickStart();\n\t\t\t}\n\t\t};\n\n\t\ttopUiView.prototype._eClickHelp = function() {\n\t\t\tif (!this._isShowed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn root.MY.gl.contents.showHelp();\n\t\t};\n\n\t\ttopUiView.prototype._eClickSystem = function() {\n\t\t\tif (!this._isShowed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn root.MY.gl.contents.showSystem();\n\t\t};\n\n\t\treturn topUiView;\n\n\t}"],"file":"about/my_class/top_ui_view.js","sourceRoot":"/source/"}