{"version":3,"names":[],"mappings":"","sources":["about/my_class/movie_view.js"],"sourcesContent":["export default function(superClass) {\n\t\textend(movieView, superClass);\n\n\t\tfunction movieView(elm) {\n\t\t\tthis._eClickClose = bind(this._eClickClose, this);\n\t\t\tthis.resize = bind(this.resize, this);\n\t\t\tthis.dispose2 = bind(this.dispose2, this);\n\t\t\tthis.addStage = bind(this.addStage, this);\n\t\t\tmovieView.__super__.constructor.call(this, elm, {\n\t\t\t\tresize: true\n\t\t\t});\n\t\t\tthis._container;\n\t\t\tthis._bg;\n\t\t\tthis._close;\n\t\t\tthis._conf = root.MY.app.conf;\n\t\t}\n\n\t\tmovieView.prototype.addStage = function() {\n\t\t\tvar tag, yh, yw;\n\t\t\tthis._bg = new root._LIBS.display();\n\t\t\tthis.addChild(this._bg);\n\t\t\tthis._bg.bgColor(\"#000\");\n\t\t\tthis._bg.alpha(0.3);\n\t\t\tthis._bg.elm().bind([\"click\", \"touchstart\"][this._device], this._eClickClose);\n\t\t\tthis._close = new root.MY_CLASS.imgBtn2d(root.MY.app.conf.PATH_IMG.PARTS + \"close.png\", root.MY.app.conf.IMG_RETINA);\n\t\t\tthis._close.onLoad = this.resize;\n\t\t\tthis._close.onClick = this._eClickClose;\n\t\t\tthis.addChild(this._close);\n\t\t\tthis._container = new root._LIBS.display();\n\t\t\tthis.addChild(this._container);\n\t\t\tyw = [853, 280][this._device];\n\t\t\tyh = [480, 158][this._device];\n\t\t\ttag = this._conf.TAG_SP_MOVIE;\n\t\t\ttag = tag.replace(\"<width>\", yw);\n\t\t\ttag = tag.replace(\"<height>\", yh);\n\t\t\tthis._container.elm().html(tag);\n\t\t\treturn this._container.size(yw, yh);\n\t\t};\n\n\t\tmovieView.prototype.dispose2 = function() {\n\t\t\tif (this._bg != null) {\n\t\t\t\tthis._bg.dispose();\n\t\t\t\tthis._bg = null;\n\t\t\t}\n\t\t\tif (this._close != null) {\n\t\t\t\tthis._close.dispose();\n\t\t\t\tthis._close = null;\n\t\t\t}\n\t\t\tif (this._container != null) {\n\t\t\t\tthis._container.dispose();\n\t\t\t\tthis._container = null;\n\t\t\t}\n\t\t\treturn this._conf = null;\n\t\t};\n\n\t\tmovieView.prototype.resize = function(w, h) {\n\t\t\tthis._bg.size(w, h);\n\t\t\tif (this._close != null) {\n\t\t\t\tthis._close.xy(w - this._close.width() - [30, 30 / 2][this._device], [30, 30 / 2][this._device]);\n\t\t\t}\n\t\t\treturn this._container.xy(~~(w * 0.5 - this._container.width() * 0.5), ~~(h * 0.5 - this._container.height() * 0.5));\n\t\t};\n\n\t\tmovieView.prototype._eClickClose = function() {\n\t\t\treturn root.MY.gl.contents.disposePage();\n\t\t};\n\n\t\treturn movieView;\n\n\t}"],"file":"about/my_class/movie_view.js","sourceRoot":"/source/"}