{"version":3,"file":"show.js","sourceRoot":"/source/","sources":["show.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"../../../../../public/typings/framework/framework.d.ts\" />\n/// <reference path=\"../../../../../public/typings/framework/utils.d.ts\" />\n/// <reference path=\"../../../../../public/typings/polymer/polymer.d.ts\" />\n\n(function(document) {\n\n    var app = document.querySelector('#app');\n\n    var thumbnailIndex = 0;\n    var lastThumbnailIndex = 0;\n    var zhilizhiliSlider;\n    var control;\n    var totallength;\n\n    var prevHandle = function() {\n\n        // 第一幅不许向前\n        if (thumbnailIndex != 0) {\n            thumbnailIndex--;\n\n            control.$.simpleSliderWrapper.children.item(lastThumbnailIndex).classList.remove('active');\n            control.$.simpleSliderWrapper.children.item(thumbnailIndex).classList.add('active');\n\n            zhilizhiliSlider.go(thumbnailIndex);\n            if (thumbnailIndex < totallength - 2) {\n                if (lastThumbnailIndex == 3 || lastThumbnailIndex == 4) {\n                    if (thumbnailIndex == 1) {\n                        control.go(0);\n                    } else {\n                        control.go(thumbnailIndex - 2);\n                    }\n                } else {\n                    if (thumbnailIndex > 1) {\n                        control.go(thumbnailIndex - 2);\n                    }\n                }\n            }\n\n            lastThumbnailIndex = thumbnailIndex;\n        }\n    };\n\n    var nextHandle = function() {\n\n        if (thumbnailIndex < totallength - 1) {\n            thumbnailIndex++;\n            control.$.simpleSliderWrapper.children.item(lastThumbnailIndex).classList.remove('active');\n            control.$.simpleSliderWrapper.children.item(thumbnailIndex).classList.add('active');\n\n            zhilizhiliSlider.go(thumbnailIndex);\n            if (thumbnailIndex > 2) {\n                if (thumbnailIndex < totallength - 2) {\n                    control.go(thumbnailIndex - 2);\n                }\n            }\n\n            lastThumbnailIndex = thumbnailIndex;\n        }\n\n    };\n\n    app.prevSliderHandle = prevHandle;\n\n    app.onPrev = prevHandle;\n\n    app.nextSliderHandle = nextHandle;\n\n    app.onNext = nextHandle;\n\n    app.addEventListener('dom-change', function() {\n\n        zhilizhiliSlider = app.$.gallerySlider;\n        control = app.$.galleryControls;\n        totallength = control.$.simpleSliderWrapper.children.length;\n\n        var maxmove = totallength - 5;\n\n        app.$.prevkey.target = document.body;\n        app.$.nextkey.target = document.body;\n\n        Array.prototype.slice.call(control.$.simpleSliderWrapper.children).forEach(function (button, index) {\n            var debfun = function() {\n                if (index != lastThumbnailIndex) {\n                    control.$.simpleSliderWrapper.children.item(lastThumbnailIndex).classList.remove('active');\n                    button.classList.add('active');\n                    zhilizhiliSlider.go(index);\n\n                    if (index > lastThumbnailIndex) {\n                        if (index > 2) {\n                            if (index - 2 < maxmove) {\n                                control.go(index - 2);\n                            } else {\n                                control.go(maxmove);\n                            }\n                        }\n                    } else {\n                        if (index < totallength - 2) {\n                            if (lastThumbnailIndex == 3 || lastThumbnailIndex == 4) {\n                                if (index == 1) {\n                                    control.go(0);\n                                } else {\n                                    control.go(index - 2);\n                                }\n                            } else {\n                                if (index > 1) {\n                                    control.go(index - 2);\n                                }\n                            }\n                        }\n                    }\n\n                    thumbnailIndex = index;\n                    lastThumbnailIndex = index;\n                }\n            };\n\n            button.addEventListener('click', debfun);\n        });\n    });\n\n    window.addEventListener('WebComponentsReady', function() {\n    });\n\n})(document);"]}